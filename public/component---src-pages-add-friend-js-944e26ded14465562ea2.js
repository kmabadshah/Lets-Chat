(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"8Aud":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("q1tI"),a=n("NKCw"),s=function(e){var t=e.as,n=e.errors,s=e.name,u=e.message,o=e.render,i=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(a[n]=e[n]);return a}(e,["as","errors","name","message","render"]),c=Object(a.c)(),l=Object(a.a)(n||c.errors,s);if(!l)return null;var m=l.message,d=l.types,f=Object.assign({},i,{children:m||u});return Object(r.isValidElement)(t)?Object(r.cloneElement)(t,f):o?o({message:m||u,messages:d}):Object(r.createElement)(t||r.Fragment,f)}},Bl7J:function(e,t,n){"use strict";var r=n("q1tI"),a=n.n(r),s=n("Wbzz");t.a=function(e){var t=e.children,n=e.style;return a.a.createElement("div",{id:"layout",style:n},a.a.createElement("div",{id:"navbar"},a.a.createElement(s.a,{to:"/"},"Home"),a.a.createElement(s.a,{to:"/settings"},"Settings")),t)}},oI5W:function(e,t,n){"use strict";n.r(t);var r=n("o0o1"),a=n.n(r),s=n("KQm4"),u=(n("ls82"),n("HaE+")),o=n("q1tI"),i=n.n(o),c=n("Bl7J"),l=n("NKCw"),m=n("8Aud"),d=n("Xj0o"),f=n("bfiW");t.default=function(){var e=Object(l.b)(),t=e.handleSubmit,r=e.reset,o=e.register,p=e.errors,b=e.setError,g=i.a.useContext(d.Context),h=g.token,v=g.user,y=g.setUser,E=function(){var e=Object(u.a)(a.a.mark((function e(t){var u,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve().then(n.t.bind(null,"vDqi",7));case 3:return u=e.sent,e.next=6,n.e(1).then(n.t.bind(null,"Qyje",7));case 6:return o=e.sent,e.next=9,u.get(f.a+"/chatters?"+o.stringify({_where:{uname:t.uname}}),{headers:{Authorization:"Bearer "+h}});case 9:i=e.sent,v.friends.find((function(e){return e.uname===t.uname}))?b("uname",{type:"random",shouldFocus:!0,message:"That person is already your friend"}):i.data[0]?(y(Object.assign({},v,{friends:[].concat(Object(s.a)(v.friends),[{uname:t.uname,messagesSentByMe:[],messagesSentToMe:[]}])})),r()):b("uname",{type:"random",shouldFocus:!0,message:"That user doesn't exist"}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),b("uname",{type:"random",shouldFocus:!0,message:"Something went wrong, please try again"}),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return i.a.createElement(c.a,null,i.a.createElement("div",{id:"add-friend"},i.a.createElement("form",{autoComplete:"off",onSubmit:t(E)},i.a.createElement("input",{name:"uname",autoComplete:"false",ref:o({required:!0}),placeholder:"John Doe"}),i.a.createElement("input",{type:"submit",value:"Submit"}),i.a.createElement(m.a,{errors:p,name:"uname",render:function(e){return i.a.createElement("p",null,e.message)}}))))}}}]);
//# sourceMappingURL=component---src-pages-add-friend-js-944e26ded14465562ea2.js.map